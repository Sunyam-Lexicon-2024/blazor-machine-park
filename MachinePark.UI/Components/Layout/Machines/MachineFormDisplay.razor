<MudContainer Class="fixed d-flex align-items-center" MaxWidth="MaxWidth.ExtraExtraLarge"
    Style="height: 100vh; width: 100vw; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px) ;">
    <MudContainer MaxWidth="MaxWidth.Small" Class="d-flex" Style="align-items: center;">
        <MudPaper Class="pa-4" MaxHeight="500px" MInWidth="500px">

            @if (Mode == FormMode.Add)
            {
                <MachineAddForm FormClosed="@OnFormClosed" />
            }
            else if (Mode == FormMode.Edit && FormModel is not null)
            {
                <MachineEditForm FormModel=FormModel FormClosed="@OnFormClosed" />
            }
        </MudPaper>
    </MudContainer>
</MudContainer>


@code {

    [Parameter]
    public MachineModel? FormModel { get; set; } = null!;

    [Parameter]
    public FormMode Mode { get; set; }

    [Parameter]
    public EventCallback<FormMode> FormModeChanged { get; set; }

    private async Task OnFormClosed()
    {
        await FormModeChanged.InvokeAsync(FormMode.Closed);
    }
}