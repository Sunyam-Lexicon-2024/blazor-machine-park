<MudContainer>
    <MudCard>
        <MudCardHeader>
            <MudIcon Class="mr-2" Icon="@Icons.Material.Filled.DataExploration"></MudIcon>
            <h3>Machine Stats</h3>
        </MudCardHeader>
        <MudCardContent>
            @if (Stats is not null)
            {
                <MudText class="ma-2"><strong>Machine Count</strong></MudText>
                <MudText class="ma-2">@Stats.MachineCount</MudText>
                <MudText class="ma-2"><strong>Online Count</strong></MudText>
                <MudText class="ma-2">@Stats.OnlineCount</MudText>
                <MudText class="ma-2"><strong>Offline Count</strong></MudText>
                <MudText class="ma-2">@Stats.OfflineCount</MudText>
                <MudText class="ma-2"><strong>Total Wattage (kWh)</strong></MudText>
                <MudText class="ma-2">@Stats.TotalWattage</MudText>

            }
            else
            {
                if (ApiState == ApiState.Reachable)
                {
                    <MudText>No Data Available</MudText>
                }
                else
                {
                    <MudText Color="@Color.Error">API not available</MudText>
                }
            }
        </MudCardContent>
    </MudCard>
    @if (Stats is not null)
    {
        <MudCard Class="mt-5">
            <MudCardHeader>
                <MudIcon Class="mr-2" Icon="@Icons.Material.Filled.Devices"></MudIcon>
                <h3>Last Updated Machine</h3>
            </MudCardHeader>
            <MudCardContent>
                <MudText class="ma-2"><strong>ID</strong></MudText>
                <MudText class="ma-2">@Stats.LastUpdated.Id</MudText>
                <MudText class="ma-2"><strong>Name</strong></MudText>
                <MudText class="ma-2">@Stats.LastUpdated.Name</MudText>
            </MudCardContent>
        </MudCard>
    }
    </MudContainer>

    @code {

    [Parameter]
    public ApiState ApiState { get; set; }

    [Parameter]
    public MachineStatsModel? Stats { get; set; }

}